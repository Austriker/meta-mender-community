header:
  version: 11

repos:
  openembedded-core:
    refspec: f7766da462905ec67bf549d46b8017be36cd5b2a
  meta-freescale:
    refspec: 3068a16ff6fde4d025f234332b953456e93cc8f6
  meta-freescale-3rdparty:
    refspec: 6d8213fc5ec192c33f963b8095d1f01af1574eea
  meta-freescale-distro:
    refspec: ecd571288e41a8b6195f226b61be330072e42f81
  meta-yocto:
    url: https://git.yoctoproject.org/git/meta-yocto
    refspec: ca9c465e37b693ab768ee8e21a929d1c18956e98
    layers:
      meta-poky:
  meta-openembedded:
    refspec: 8f96c05f6d82fde052f2cb1652c13922814accb0
    layers:
      meta-python:
      meta-gnome:
      meta-xfce:
      meta-multimedia:
      meta-networking:
      meta-filesystems:
  meta-qt5:
    url: https://github.com/meta-qt5/meta-qt5
    refspec: 5b71df60e523423b9df6793de9387f87a149ac42
  meta-toradex-distro:
    url: https://git.toradex.com/meta-toradex-distro.git
    refspec: 095032507d6560ff6bb916982732a2190019b97f
  meta-toradex-bsp-common:
    url: https://git.toradex.com/meta-toradex-bsp-common.git
    refspec: 0a52bbb4b3759d21848330bac72f1b23ac9d6c7d
  meta-toradex-nxp:
    url: https://git.toradex.com/meta-toradex-nxp.git
    refspec: a80de26deaaf94fd735bf00ce724ed568f965b04
  meta-toradex-demos:
    url: https://git.toradex.com/meta-toradex-demos.git
    refspec: 6cbe18653ab705592671001daab88a7c58c81a69
  meta-mender-community:
    layers:
      meta-mender-toradex-nxp:

distro: tdx-xwayland

local_conf_header:
  toradex: |
    INHERIT += "toradex-mirrors toradex-sanity"
    INHERIT += "mender-toradex"
    INHERIT += "mender-full"
    MENDER_UBOOT_POST_SETUP_COMMANDS:append = " ; setenv tdxargs \${tdxargs} \${bootargs}; "
    MENDER_UBOOT_POST_SETUP_COMMANDS:append = " ; setenv overlays_file /boot/overlays.txt ; setenv overlays_prefix boot/overlays/ "
    MENDER_FEATURES_ENABLE:append = " mender-uboot mender-image-sd"
    MENDER_FEATURES_DISABLE:append = " mender-grub mender-image-uefi"
    IMAGE_CLASSES += "image_type_mender_tezi"
    IMAGE_FSTYPES:append = " mender_tezi"
    IMAGE_FSTYPES:remove = " teziimg"
    KERNEL_IMAGETYPE:aarch64_mender-grub = "Image"
    IMAGE_BOOT_FILES:remove:mender-grub = "boot.scr-verdin-imx8mm;boot.scr"
    IMAGE_BOOT_FILES:remove:mender-uboot = "zImage ${KERNEL_DEVICETREE} overlays.txt overlays/*;overlays/"
